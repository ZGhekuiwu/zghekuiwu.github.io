<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8" />
		<meta http-equiv="refresh" content="10;guide.html">
		<link rel="icon" href="img/jike.ico" type="image/x-icon" />
		<title>欢迎来到极客世界！</title>
		<style type="text/css">
			* {
				margin: 0;
				padding: 0;
			}
			
			html,
			body {
				background: black;
				height: 100%;
				width: 100%;
				overflow: hidden;
			}
			
			canvas {
				display: block;
			}
		</style>
	</head>

	<body>
		<canvas id="c">您的浏览器不支持canvas动画！</canvas>
		<script type="text/javascript">
			window.onload = function() {
				var c = document.getElementById("c");
				var ctx = c.getContext("2d");

				c.addEventListener('click', function() {
					location.href = "guide.html";
				}, false);

				//全屏显示
				c.height = window.innerHeight;
				c.width = window.innerWidth;

				var txts = "FRH012极客ようこそギーク世界358何ABEDFG极客ようこそギーク世界980奎FTTKL极客ようこそギーク世界伍ABC极客ようこそギーク世界752TUN";
				txts = txts.split("");

				var font_size = 28;
				var columns = c.width / font_size;

				//每行要输出数组
				var drops = [];

				for(var x = 0; x < columns; x++)
					drops[x] = 1;

				//字符随机颜色
				var wh_color = new Array();
				wh_color[0] = "#57CE13";
				wh_color[1] = "#50BF7F";
				wh_color[2] = "#50BF7F";

				//绘出字符
				function draw() {
					//黑色背景，半透明显示
					ctx.fillStyle = "rgba(0, 0, 0, 0.09)";
					ctx.fillRect(0, 0, c.width, c.height);

					//ctx.fillStyle = "#50BF7F";
					ctx.fillStyle = wh_color[parseInt(Math.random() * 100 + 1) % 3];
					ctx.font = font_size + "px arial";

					//drops循环
					for(var i = 0; i < drops.length; i++) {
						//随机打印字符
						var text = txts[Math.floor(Math.random() * txts.length)];

						//x = i*font_size
						//y = value of drops[i]*font_size
						ctx.fillText(text, i * font_size, drops[i] * font_size);

						if(drops[i] * font_size > c.height || Math.random() > 0.95)
							drops[i] = 0;

						//Y坐标增加
						drops[i]++;
					}
				}
				setInterval(draw, 50);
			}
		</script>
	</body>

</html>